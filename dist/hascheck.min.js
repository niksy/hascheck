/*! hascheck 0.1.0 - Interface to Hrvatski akademski spelling checker. | Author: Ivan NikoliÄ‡, 2014 | License: MIT */
!function(a,b){function c(b){return b=a.trim(b),j[b]||(j[b]={dfd:a.Deferred(),called:!1}),j[b]}function d(b){var c={};return a.each(i,function(d,e){return e.text===a.trim(b)?(c=e,!1):void 0}),c}function e(b,c){return i.push({text:a.trim(b),results:c})}function f(b){var c,d=[],e=b.query.results;return e&&(c=e.hacheck.results.error)?(c.suspicious&&(c=[c]),a.each(c,function(a,b){var c=b.suggestions,e=c?c.word:[];d.push({suspicious:b.suspicious,suggestions:"string"==typeof e?e.split():e})}),d):d}function g(b){return a.ajax({url:"https://query.yahooapis.com/v1/public/yql",type:"get",dataType:"jsonp",cache:!0,data:{q:'select * from xml where url="http://hacheck.tel.fer.hr/xml.pl?textarea='+encodeURIComponent(a.trim(b))+'"',format:"json"}})}function h(){}var i=[],j={};a.extend(h.prototype,{check:function(a){var b=c(a),h=b.dfd;if(d(a).results)h.resolve(d(a).results);else{if(b.called)return h.promise();b.called=b.called||!0,g(a).done(function(b){e(a,f(b)),h.resolve(d(a).results)}).fail(function(){h.reject("No results.")})}return h.promise()},getErrors:function(b,e){var f=[],g=d(b).results||[];if(!g.length&&e){if(c(b).called)return;return void this.check(b).done(a.proxy(this.getErrors,this,b,e))}return a.each(g,function(a,b){f.push(b.suspicious)}),e&&e.call(null,f),f},getSuggestions:function(b,e){var f=d(b).results||[];if(!f.length&&e){if(c(b).called)return;return void this.check(b).done(a.proxy(this.getSuggestions,this,b,e))}return e&&e.call(null,f),f}}),b.hascheck=new h}(jQuery,window,document);